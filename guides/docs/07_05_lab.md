# 7 - Lab 5  Exploring Jakarta Data

## Step 1: Make sure that the database is running.

Check the database setup at: https://github.com/o-s-expert/ddd-workshop-labs?tab=readme-ov-file#database-setup

## Step 2: Add the Jakarta Data dependency

At the `pom.xml` file at the `properties` section add the following dependency:

```xml
<jnosql.version>1.1.10</jnosql.version>
```

On the `dependencies` section add the following dependency:

```xml
      <!--  <dependency>
            <groupId>org.eclipse.jnosql.databases</groupId>
            <artifactId>jnosql-mongodb</artifactId>
            <version>${jnosql.version}</version>
        </dependency>-->
<dependency>
    <groupId>org.eclipse.jnosql.databases</groupId>
    <artifactId>jnosql-oracle-nosql</artifactId>
    <version>${jnosql.version}</version>
</dependency>
```

Here we have the option of two databases:

Oracle NoSQL and MongoDB.

At the `microprofile-config.properties` file add the following properties:

```properties
#JNoSQL configuration
jnosql.keyvalue.database=products
jnosql.document.database=products

# Oracle NoSQL properties
jnosql.oracle.nosql.host=http://localhost:8080
# MongoDB properties
jnosql.mongodb.url=mongodb://localhost:27017
```


## Step 3: Update the Repository

This step will update the annotations using the Jakarta Data API, thus at the `ProductRepository` update the code:

```java
@Repository
public interface ProductRepository {

    @Save
    Product save(Product product);
    
    Optional<Product> findById(String id);
    
    List<Product> findAll();
    
    void deleteById(String id);

}
```





